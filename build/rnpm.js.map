{"version":3,"file":"rnpm.js","sources":["../src/helpers.tsx","../src/logger.ts","../src/constants.ts","../src/Backdrop.tsx","../src/MenuPlaceholder.tsx","../src/menuRegistry.ts","../node_modules/tslib/tslib.es6.js","../src/renderers/MenuOutside.tsx","../src/with-context.tsx","../src/MenuProvider.tsx","../src/MenuOptions.tsx","../src/MenuTrigger.tsx","../src/Menu.tsx","../src/MenuOption.tsx","../src/renderers/ContextMenu.jsx","../src/renderers/NotAnimatedContextMenu.jsx","../src/renderers/SlideInMenu.jsx","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/object-assign/index.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/index.js","../src/renderers/Popover.jsx","../src/index.ts"],"sourcesContent":["import { ElementType } from 'react';\nimport { LayoutRectangle, Platform, TouchableHighlight, View } from 'react-native';\n\n/**\n * Promisifies measure's callback function and returns layout object.\n */\nexport const measure = (ref: View): Promise<LayoutRectangle> =>\n  new Promise(resolve => {\n    ref.measure((x, y, width, height, pageX, pageY) => {\n      resolve({\n        x: pageX,\n        y: pageY,\n        width,\n        height,\n      });\n    });\n  });\n\n/**\n * Create unique menu name across all menu instances.\n */\nexport const makeName = (function () {\n  let nextID = 1;\n  return () => `menu-${nextID++}`;\n})();\n\n/**\n * Create touchable component based on passed parameter and platform.\n * It also returns default props for specific touchable types.\n */\nexport function makeTouchable(TouchableComponent?: ElementType) {\n  const Touchable =\n    TouchableComponent ||\n    Platform.select({\n      android: TouchableHighlight,\n      ios: TouchableHighlight,\n      default: TouchableHighlight,\n    });\n  let defaultTouchableProps = {};\n  if (Touchable === TouchableHighlight) {\n    defaultTouchableProps = { underlayColor: 'rgba(0, 0, 0, 0.1)' };\n  }\n  return { Touchable, defaultTouchableProps };\n}\n\n/**\nConverts iterator to array\n*/\nexport function iterator2array<T>(it: Iterator<T>): T[] {\n  // workaround around https://github.com/instea/react-native-popup-menu/issues/41#issuecomment-340290127\n  const arr = [];\n  for (let next = it.next(); !next.done; next = it.next()) {\n    arr.push(next.value);\n  }\n  return arr;\n}\n","export const CFG = {\n  debug: false,\n};\n/**\n * Debug logger depending on `Menu.debug` static porperty.\n */\nexport const debug = (...args: unknown[]) => {\n  CFG.debug && console.log('react-native-popup-menu', ...args);\n};\n","import { Platform } from 'react-native';\n\n// common durations of animation\nexport const OPEN_ANIM_DURATION = 150;\nexport const CLOSE_ANIM_DURATION = 100;\n\nexport const USE_NATIVE_DRIVER = Platform.OS !== 'web';\n","import React, { Component } from 'react';\nimport {\n  Animated,\n  StyleProp,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport { CLOSE_ANIM_DURATION, OPEN_ANIM_DURATION, USE_NATIVE_DRIVER } from './constants';\n\ntype Props = {\n  onPress: () => unknown;\n  style: StyleProp<ViewStyle>;\n};\nclass Backdrop extends Component<Props> {\n  fadeAnim: Animated.Value;\n  constructor(props: Props) {\n    super(props);\n    this.fadeAnim = new Animated.Value(0.001);\n  }\n\n  open() {\n    return new Promise(resolve => {\n      Animated.timing(this.fadeAnim, {\n        duration: OPEN_ANIM_DURATION,\n        toValue: 1,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.fadeAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { onPress, style } = this.props;\n    return (\n      <TouchableWithoutFeedback onPress={onPress}>\n        <Animated.View style={[styles.fullscreen, { opacity: this.fadeAnim }]}>\n          <View style={[styles.fullscreen, style]} />\n        </Animated.View>\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  fullscreen: {\n    opacity: 0,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n});\n\nexport default Backdrop;\n","import React, { Component } from 'react';\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native';\nimport Backdrop from './Backdrop';\nimport { debug } from './logger';\nimport { MenuContextProps } from './types';\n\ntype Props = MenuContextProps & {\n  backdropStyles?: StyleProp<ViewStyle>;\n};\n\nexport default class MenuPlaceholder extends Component<Props, { openedMenuName?: string }> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n  }\n\n  shouldComponentUpdate() {\n    // don't terminate closing animation\n    return !this.props.ctx._isMenuClosing;\n  }\n\n  render() {\n    const { ctx, backdropStyles } = this.props;\n    const shouldRenderMenu = ctx.isMenuOpen() && ctx._isInitialized();\n    debug('MenuPlaceholder should render', shouldRenderMenu);\n    if (!shouldRenderMenu) {\n      return null;\n    }\n    return (\n      <View style={styles.placeholder}>\n        <Backdrop onPress={ctx._onBackdropPress} style={backdropStyles} ref={ctx.onBackdropRef} />\n        {ctx._makeOptions()}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  placeholder: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflow: 'hidden',\n  },\n});\n","import { Menu } from './Menu';\nimport { iterator2array } from './helpers';\nimport { MenuEntry, OptionsLayoutType, TriggerLayoutType } from './types';\n\n/**\n * Registry to subscribe, unsubscribe and update data of menus.\n *\n * menu data: {\n *   instance: react instance\n *   triggerLayout: Object - layout of menu trigger if known\n *   optionsLayout: Object - layout of menu options if known\n *   optionsCustomStyles: Object - custom styles of options\n * }\n */\nexport default function makeMenuRegistry(menus = new Map<string, MenuEntry>()) {\n  /**\n   * Subscribes menu instance.\n   */\n  function subscribe(instance: Menu) {\n    const name = instance.getName();\n    if (menus.get(name)) {\n      console.warn(`incorrect usage of popup menu - menu with name ${name} already exists`);\n    }\n    menus.set(name, { name, instance });\n  }\n\n  /**\n   * Unsubscribes menu instance.\n   */\n  function unsubscribe(instance: Menu) {\n    menus.delete(instance.getName());\n  }\n\n  /**\n   * Updates layout infomration.\n   */\n  function updateLayoutInfo(\n    name: string,\n    layouts: { triggerLayout?: TriggerLayoutType; optionsLayout?: OptionsLayoutType } = {},\n  ) {\n    if (!menus.has(name)) {\n      return;\n    }\n    const menu = Object.assign({}, menus.get(name));\n    if (layouts.hasOwnProperty('triggerLayout')) {\n      menu.triggerLayout = layouts.triggerLayout;\n    }\n    if (layouts.hasOwnProperty('optionsLayout')) {\n      menu.optionsLayout = layouts.optionsLayout;\n    }\n    menus.set(name, menu);\n  }\n\n  function setOptionsCustomStyles(name: string, optionsCustomStyles = {}) {\n    if (!menus.has(name)) {\n      return;\n    }\n    const menu = { ...(menus.get(name) as MenuEntry), optionsCustomStyles };\n    menus.set(name, menu);\n  }\n\n  /**\n   * Get `menu data` by name.\n   */\n  function getMenu(name: string) {\n    return menus.get(name);\n  }\n\n  /**\n   * Returns all subscribed menus as array of `menu data`\n   */\n  function getAll() {\n    return iterator2array(menus.values());\n  }\n\n  return { subscribe, unsubscribe, updateLayoutInfo, getMenu, getAll, setOptionsCustomStyles };\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","import React from 'react';\nimport { StyleSheet, View, ViewProps } from 'react-native';\nimport { LayoutsType } from '../types';\n\nexport const computePosition = ({ windowLayout }: LayoutsType) => ({\n  top: windowLayout.height,\n  left: windowLayout.width,\n});\n\ntype Props = ViewProps & {\n  layouts: LayoutsType;\n};\n\nconst MenuOutside = (props: Props) => {\n  const { style, children, layouts, ...other } = props;\n  const position = computePosition(layouts);\n  return (\n    <View {...other} style={[styles.options, style, position]} collapsable={false}>\n      {children}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n  },\n});\n\nexport default MenuOutside;\n","import React, { ComponentProps, ForwardedRef } from 'react';\nimport { PopupMenuContext } from './MenuProvider';\n\ntype Props = { forwardedRef?: unknown };\nexport function withContext<T extends ComponentProps<any>>(\n  Context: typeof PopupMenuContext,\n  propName = 'context',\n) {\n  return function wrap(Component: React.ComponentType<T & any>) {\n    class EnhanceContext extends React.Component<T & Props> {\n      render() {\n        const { forwardedRef, ...rest } = this.props;\n\n        return (\n          <Context.Consumer>\n            {(value: unknown) => {\n              const custom = {\n                [propName]: value,\n                ref: forwardedRef,\n              };\n              return <Component {...custom} {...rest} />;\n            }}\n          </Context.Consumer>\n        );\n      }\n    }\n\n    const name = Component.displayName || Component.name || 'Component';\n    const consumerName = Context.displayName || Context.Consumer.name || 'Context.Consumer';\n\n    function enhanceForwardRef(props: ComponentProps<any>, ref: ForwardedRef<EnhanceContext>) {\n      return <EnhanceContext {...props} forwardedRef={ref} />;\n    }\n\n    enhanceForwardRef.displayName = `enhanceContext-${consumerName}(${name})`;\n\n    const FC = React.forwardRef(enhanceForwardRef);\n    FC.defaultProps = Component.defaultProps;\n    FC.propTypes = Component.propTypes;\n    return FC;\n  };\n}\n","import React, { Component, createContext, FunctionComponent, ReactNode } from 'react';\nimport {\n  BackHandler,\n  LayoutChangeEvent,\n  LayoutRectangle,\n  SafeAreaView,\n  StyleSheet,\n  View,\n} from 'react-native';\nimport Backdrop from './Backdrop';\nimport { measure } from './helpers';\nimport { debug } from './logger';\nimport { MenuProps } from './Menu';\nimport MenuPlaceholder from './MenuPlaceholder';\nimport makeMenuRegistry from './menuRegistry';\nimport MenuOutside from './renderers/MenuOutside';\nimport {\n  Menu,\n  MenuActions,\n  MenuContext,\n  MenuContextProps,\n  MenuEntry,\n  MenuProviderProps,\n  MenuRegistry,\n} from './types';\nimport { withContext } from './with-context';\n\nconst defaultOptionsContainerRenderer = (options: ReactNode) => options;\nconst layoutsEqual = (a?: LayoutRectangle, b?: LayoutRectangle) =>\n  a === b || (a && b && a.width === b.width && a.height === b.height);\n\nif (!React.forwardRef) {\n  throw new Error('This version of popup-menu requires RN 0.55+. Check our compatibility table.');\n}\nexport const PopupMenuContext = createContext({});\nexport const withCtx = withContext<MenuContextProps>(PopupMenuContext, 'ctx');\n\n// count of MenuProvider instances\nlet instanceCount = 0;\n\ntype Props = MenuProviderProps;\n\nexport default class MenuProvider extends Component<Props> {\n  _isMenuClosing: boolean;\n  _isBackHandlerRegistered: boolean;\n  _ownLayout?: LayoutRectangle;\n  _safeAreaLayout?: LayoutRectangle;\n  _placeholderRef?: MenuPlaceholder;\n  menuRegistry: MenuRegistry;\n  menuActions: MenuActions;\n  menuCtx: Partial<MenuContext>;\n  backdropRef?: Backdrop;\n  openedMenu?: MenuEntry;\n  optionsRef?: Menu;\n\n  constructor(props: Props) {\n    super(props);\n    this.menuRegistry = makeMenuRegistry();\n    this.menuActions = {\n      openMenu: (name: string) => this.openMenu(name),\n      closeMenu: () => this.closeMenu(),\n      toggleMenu: (name: string) => this.toggleMenu(name),\n      isMenuOpen: () => this.isMenuOpen(),\n      _getOpenedMenu: () => this._getOpenedMenu(),\n      _notify: (force?: boolean) => this._notify(force),\n    };\n    this._isMenuClosing = false;\n    this._isBackHandlerRegistered = false;\n\n    this.menuCtx = {\n      menuRegistry: this.menuRegistry,\n      menuActions: this.menuActions,\n    };\n  }\n\n  _handleBackButton = () => {\n    const { backHandler } = this.props;\n    debug('_handleBackButton called', backHandler);\n\n    // Default handler if true is passed\n    if (backHandler === true) {\n      if (this.isMenuOpen()) {\n        this.closeMenu();\n        return true;\n      }\n    }\n\n    // Custom handler called with MenuProvider instance id function is passed\n    if (typeof backHandler === 'function') {\n      return backHandler(this);\n    }\n\n    return false;\n  };\n\n  componentDidMount() {\n    const { customStyles, skipInstanceCheck } = this.props;\n    if (!skipInstanceCheck) {\n      instanceCount++;\n    }\n    if (instanceCount > 1) {\n      console.warn(\n        'In most cases you should not have more MenuProviders in your app (see API documentation). In other cases use skipInstanceCheck prop.',\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    debug('unmounting menu provider');\n    if (this._isBackHandlerRegistered) {\n      BackHandler.removeEventListener('hardwareBackPress', this._handleBackButton);\n    }\n    const { skipInstanceCheck } = this.props;\n    if (!skipInstanceCheck) {\n      instanceCount--;\n    }\n  }\n\n  isMenuOpen() {\n    return !!this._getOpenedMenu();\n  }\n\n  openMenu(name: string) {\n    const menu = this.menuRegistry.getMenu(name);\n    if (!menu) {\n      console.warn(`menu with name ${name} does not exist`);\n      return Promise.resolve();\n    }\n    debug('open menu', name);\n    if (!this._isBackHandlerRegistered) {\n      // delay menu registration until the menu is really opened (and thus this back handler will be called \"sooner\")\n      // too soon registration can cause another back handlers (e.g. react navigation) to be called instead of our back handler\n      BackHandler.addEventListener('hardwareBackPress', this._handleBackButton);\n      this._isBackHandlerRegistered = true;\n    }\n    menu.instance._setOpened(true);\n    return this._notify();\n  }\n\n  closeMenu() {\n    // has no effect on controlled menus\n    debug('close menu');\n    this.menuRegistry\n      .getAll()\n      .filter(menu => menu.instance._getOpened())\n      .forEach(menu => menu.instance._setOpened(false));\n    return this._notify();\n  }\n\n  _invalidateTriggerLayouts() {\n    // invalidate layouts for closed menus,\n    // both controlled and uncontrolled menus\n    this.menuRegistry\n      .getAll()\n      .filter(menu => !menu.instance.isOpen())\n      .forEach(menu => {\n        this.menuRegistry.updateLayoutInfo(menu.name, { triggerLayout: undefined });\n      });\n  }\n\n  _beforeClose(menu: MenuEntry) {\n    debug('before close', menu.name);\n    const hideMenu = this.optionsRef?.close?.() || Promise.resolve();\n    const hideBackdrop = this.backdropRef && this.backdropRef.close();\n    this._invalidateTriggerLayouts();\n    this._isMenuClosing = true;\n    return Promise.all([hideMenu, hideBackdrop])\n      .then(() => {\n        this._isMenuClosing = false;\n      })\n      .catch(err => {\n        this._isMenuClosing = false;\n        throw err;\n      });\n  }\n\n  toggleMenu(name: string) {\n    const menu = this.menuRegistry.getMenu(name);\n    if (!menu) {\n      console.warn(`menu with name ${name} does not exist`);\n      return Promise.resolve();\n    }\n    debug('toggle menu', name);\n    if (menu.instance._getOpened()) {\n      return this.closeMenu();\n    } else {\n      return this.openMenu(name);\n    }\n  }\n\n  _notify(forceUpdate?: boolean) {\n    const NULL = {};\n    const prev = this.openedMenu;\n    const next = this.menuRegistry.getAll().find(menu => menu.instance.isOpen());\n    // set newly opened menu before any callbacks are called\n    this.openedMenu = next;\n    if (!forceUpdate && !this._isRenderNeeded(prev, next)) {\n      return Promise.resolve();\n    }\n\n    debug('notify: next menu:', next?.name, ' prev menu:', prev?.name);\n    let afterSetState: () => unknown;\n    let beforeSetState = () => Promise.resolve();\n    if (prev?.name !== next?.name) {\n      if (prev && !prev?.instance.isOpen()) {\n        beforeSetState = () => this._beforeClose(prev).then(() => prev.instance.props.onClose?.());\n      }\n      if (next) {\n        next.instance.props.onOpen?.();\n        afterSetState = () => this._initOpen(next);\n      }\n    }\n\n    return beforeSetState().then(() => {\n      if (!this._placeholderRef) {\n        debug('setState ignored - maybe the context was unmounted');\n        return;\n      }\n      this._placeholderRef.setState(\n        { openedMenuName: this.openedMenu && this.openedMenu.name },\n        afterSetState,\n      );\n      debug('notify ended');\n    });\n  }\n\n  /**\n  Compares states of opened menu to determine if rerender is needed.\n  */\n  _isRenderNeeded(prev?: MenuEntry, next?: MenuEntry) {\n    if (prev === next) {\n      debug('_isRenderNeeded: skipping - no change');\n      return false;\n    }\n    if (prev?.name !== next?.name) {\n      return true;\n    }\n    const { triggerLayout, optionsLayout } = next ?? {};\n    if (!triggerLayout || !optionsLayout) {\n      debug('_isRenderNeeded: skipping - no trigger or options layout');\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    const { style, customStyles, MenuWrapperComponent } = this.props;\n    const MenuWrapper = MenuWrapperComponent ?? React.Fragment;\n\n    debug('render menu', this.isMenuOpen(), this._ownLayout);\n    return (\n      <PopupMenuContext.Provider value={this.menuCtx}>\n        <View style={styles.flex1} onLayout={this._onLayout}>\n          <View style={[styles.flex1, customStyles?.menuProviderWrapper, style]}>\n            {this.props.children}\n          </View>\n          <MenuWrapper>\n            <SafeAreaView style={styles.safeArea}>\n              <View style={styles.flex1} collapsable={false} onLayout={this._onSafeAreaLayout} />\n              <MenuPlaceholder\n                ctx={this}\n                backdropStyles={customStyles?.backdrop}\n                ref={this._onPlaceholderRef}\n              />\n            </SafeAreaView>\n          </MenuWrapper>\n        </View>\n      </PopupMenuContext.Provider>\n    );\n  }\n\n  onBackdropRef = (r: Backdrop) => {\n    this.backdropRef = r;\n  };\n\n  onOptionsRef = (r: Menu) => {\n    this.optionsRef = r;\n  };\n\n  _onPlaceholderRef = (r: MenuPlaceholder) => (this._placeholderRef = r);\n\n  _getOpenedMenu() {\n    const name = this._placeholderRef && this._placeholderRef.state.openedMenuName;\n    const menu = name ? this.menuRegistry.getMenu(name) : undefined;\n    debug('_getOpenedMenu', name, !!menu);\n    return menu;\n  }\n\n  _onBackdropPress = () => {\n    debug('on backdrop press');\n    const menu = this._getOpenedMenu();\n    if (menu) {\n      menu.instance.props.onBackdropPress?.();\n    }\n    this.closeMenu();\n  };\n\n  _isInitialized() {\n    return !!this._ownLayout;\n  }\n\n  _initOpen(menu: MenuEntry) {\n    debug('opening', menu.name);\n    const trigger = menu.instance._getTrigger();\n    trigger &&\n      measure(trigger).then(res => {\n        const triggerLayout = res;\n        debug('got trigger measurements', triggerLayout);\n        this.menuRegistry.updateLayoutInfo(menu.name, { triggerLayout });\n        this.backdropRef && this.backdropRef.open();\n        this._notify();\n      });\n  }\n\n  _onOptionsLayout(e: LayoutChangeEvent, name: string, isOutside: boolean) {\n    const optionsLayout = { ...e.nativeEvent.layout, isOutside };\n    debug('got options layout', optionsLayout);\n    this.menuRegistry.updateLayoutInfo(name, { optionsLayout });\n    this._notify();\n  }\n\n  _makeOptions() {\n    const { instance, triggerLayout, optionsLayout } = this._getOpenedMenu() ?? {};\n    const options = instance?._getOptions();\n    if (!instance || !options) {\n      return;\n    }\n    const { renderer, rendererProps } = instance.props;\n    const windowLayout = this._ownLayout;\n    const safeAreaLayout = this._safeAreaLayout;\n    const { optionsContainerStyle, renderOptionsContainer, customStyles } = options.props;\n    const optionsRenderer = renderOptionsContainer || defaultOptionsContainerRenderer;\n    const isOutside = !triggerLayout || !optionsLayout;\n    const onLayout = (e: LayoutChangeEvent) =>\n      this._onOptionsLayout(e, instance.getName(), isOutside);\n    const style = [optionsContainerStyle, customStyles?.optionsContainer];\n    const layouts = { windowLayout, triggerLayout, optionsLayout, safeAreaLayout };\n    const props: MenuProps['rendererProps'] = { ...rendererProps, style, onLayout, layouts };\n    const optionsType = isOutside ? MenuOutside : renderer;\n    if (optionsType === renderer) {\n      props.ref = this.onOptionsRef;\n    }\n    if (optionsType) {\n      return React.createElement(optionsType as FunctionComponent, props, optionsRenderer(options));\n    }\n  }\n\n  _onLayout = ({ nativeEvent: { layout } }: LayoutChangeEvent) => {\n    if (layoutsEqual(this._ownLayout, layout)) {\n      return;\n    }\n    this._ownLayout = layout;\n    debug('context layout has changed', this._ownLayout);\n    const menu = this._getOpenedMenu();\n    if (!menu) {\n      return;\n    }\n    const trigger = menu.instance._getTrigger();\n    trigger &&\n      measure(trigger).then(res => {\n        const triggerLayout = res;\n        debug('got trigger measurements after context layout change', triggerLayout);\n        this.menuRegistry.updateLayoutInfo(menu.instance.getName(), { triggerLayout });\n        // force update as own layout has changed\n        this._notify(true);\n      });\n  };\n\n  _onSafeAreaLayout = ({ nativeEvent: { layout } }: LayoutChangeEvent) => {\n    if (layoutsEqual(this._safeAreaLayout, layout)) {\n      return;\n    }\n    this._safeAreaLayout = layout;\n    debug('safeArea layout has changed', this._safeAreaLayout);\n    if (!this.isMenuOpen()) {\n      return;\n    }\n    this._notify(true);\n  };\n}\n\nconst styles = StyleSheet.create({\n  flex1: {\n    flex: 1,\n    pointerEvents: 'box-none',\n  },\n  safeArea: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    pointerEvents: 'box-none',\n  },\n});\n","import React from 'react';\nimport { View } from 'react-native';\nimport { withCtx } from './MenuProvider';\nimport { MenuContextProps, MenuOptionsProps } from './types';\n\ntype Props = MenuOptionsProps & MenuContextProps;\n\nexport class MenuOptions extends React.Component<Props> {\n  updateCustomStyles(props: Props) {\n    const { customStyles = {} } = props;\n    const menu = this.props.ctx.menuActions._getOpenedMenu();\n    // FIXME react 16.3 workaround for ControlledExample!\n    if (!menu) return;\n    const menuName = menu.instance.getName();\n    this.props.ctx.menuRegistry.setOptionsCustomStyles(menuName, customStyles);\n  }\n\n  componentDidMount() {\n    this.updateCustomStyles(this.props);\n  }\n\n  componentDidUpdate() {\n    this.updateCustomStyles(this.props);\n  }\n\n  render() {\n    const { customStyles, style, children } = this.props;\n    return <View style={[customStyles?.optionsWrapper, style]}>{children}</View>;\n  }\n}\n\nexport default withCtx(MenuOptions);\n","import React, { Component } from 'react';\nimport { Text, View } from 'react-native';\nimport { withCtx } from './MenuProvider';\nimport { makeTouchable } from './helpers';\nimport { debug } from './logger';\nimport { MenuContextProps, MenuTriggerProps } from './types';\n\ntype Props = MenuTriggerProps & MenuContextProps;\n\nexport class MenuTrigger extends Component<Props> {\n  _onPress() {\n    debug('trigger onPress');\n    this.props.onPress && this.props.onPress();\n    this.props.ctx.menuActions.openMenu(this.props.menuName);\n  }\n\n  render() {\n    const {\n      disabled,\n      onRef,\n      text,\n      children,\n      style,\n      customStyles = {},\n      menuName,\n      triggerOnLongPress,\n      onAlternativeAction,\n      testID,\n      ...other\n    } = this.props;\n    const onPress = () => !disabled && this._onPress();\n    const { Touchable, defaultTouchableProps } = makeTouchable(\n      customStyles.TriggerTouchableComponent,\n    );\n    return (\n      <View ref={onRef} collapsable={false} style={customStyles.triggerOuterWrapper}>\n        <Touchable\n          testID={testID}\n          onPress={triggerOnLongPress ? onAlternativeAction : onPress}\n          onLongPress={triggerOnLongPress ? onPress : onAlternativeAction}\n          {...defaultTouchableProps}\n          {...customStyles.triggerTouchable}\n        >\n          <View {...other} style={[customStyles.triggerWrapper, style]}>\n            {text ? <Text style={customStyles.triggerText}>{text}</Text> : children}\n          </View>\n        </Touchable>\n      </View>\n    );\n  }\n}\n\nexport default withCtx(MenuTrigger);\n","import React, { Component, isValidElement, ReactElement, ReactNode } from 'react';\nimport { StyleProp, View, ViewStyle } from 'react-native';\nimport { makeName } from './helpers';\nimport { CFG, debug } from './logger';\nimport MenuOptions from './MenuOptions';\nimport { withCtx } from './MenuProvider';\nimport MenuTrigger from './MenuTrigger';\nimport { MenuContextProps, MenuOptionsProps, MenuTriggerProps } from './types';\n\nconst isRegularComponent = (c: ReactNode): c is ReactElement =>\n  isValidElement(c) && c.type !== MenuOptions && c.type !== MenuTrigger;\nconst isTrigger = (c: ReactNode): c is ReactElement<MenuTriggerProps> =>\n  isValidElement(c) && c.type === MenuTrigger;\nconst isMenuOptions = (c: ReactNode): c is ReactElement<MenuOptionsProps> =>\n  isValidElement(c) && c.type === MenuOptions;\n\nexport interface MenuProps {\n  name?: string;\n  opened?: boolean;\n  renderer?: Function;\n  rendererProps?: Record<string, unknown>;\n  style?: StyleProp<ViewStyle>;\n\n  onSelect?: (value: unknown) => unknown;\n\n  onOpen?(): void;\n\n  onClose?(): void;\n\n  onBackdropPress?(): void;\n  children?: React.ReactNode;\n}\n\ntype Props = MenuProps & MenuContextProps;\nexport class Menu extends Component<Props> {\n  _forceClose: boolean;\n  _name: string;\n  _opened: boolean;\n  _trigger: View | null;\n  constructor(props: Props) {\n    super(props);\n\n    this._forceClose = false;\n    this._name = this.props.name || makeName();\n    this._opened = false;\n    this._trigger = null;\n\n    const { ctx } = props;\n    if (!(ctx && ctx.menuActions)) {\n      throw new Error('Menu component must be ancestor of MenuProvider');\n    }\n  }\n\n  componentDidMount() {\n    if (!this._validateChildren()) {\n      return;\n    }\n    debug('subscribing menu', this._name);\n    this.props.ctx.menuRegistry.subscribe(this);\n    this.props.ctx.menuActions._notify();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.name !== prevProps.name) {\n      console.warn('Menu name cannot be changed');\n    }\n    // force update if menu is opened as its content might have changed\n    const force = this.isOpen();\n    debug('component did update', this._name, force);\n    this.props.ctx.menuActions._notify(force);\n  }\n\n  componentWillUnmount() {\n    debug('unsubscribing menu', this._name);\n    if (this.isOpen()) {\n      this._forceClose = true;\n      this.props.ctx.menuActions._notify();\n    }\n    this.props.ctx.menuRegistry.unsubscribe(this);\n  }\n\n  open() {\n    return this.props.ctx.menuActions.openMenu(this._name);\n  }\n\n  close() {\n    return this.props.ctx.menuActions.closeMenu();\n  }\n\n  isOpen() {\n    if (this._forceClose) {\n      return false;\n    }\n    return this.props.hasOwnProperty('opened') ? this.props.opened : this._opened;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  render() {\n    const { style } = this.props;\n    const children = this._reduceChildren();\n    return <View style={style}>{children}</View>;\n  }\n\n  _reduceChildren() {\n    return React.Children.toArray(this.props.children).reduce(\n      (r: ReactNode[], child: ReactNode) => {\n        if (isTrigger(child)) {\n          r.push(\n            React.cloneElement(child, {\n              key: null,\n              menuName: this._name,\n              onRef: (t: View) => (this._trigger = t),\n            }),\n          );\n        }\n        if (isRegularComponent(child)) {\n          r.push(child);\n        }\n\n        return r;\n      },\n      [] as ReactElement[],\n    );\n  }\n\n  _getTrigger() {\n    return this._trigger;\n  }\n\n  _getOptions() {\n    return React.Children.toArray(this.props.children).find(isMenuOptions);\n  }\n\n  _getOpened() {\n    return this._opened;\n  }\n\n  _setOpened(opened: boolean) {\n    this._opened = opened;\n  }\n\n  _validateChildren() {\n    const children = React.Children.toArray(this.props.children);\n    const options = children.find(isMenuOptions);\n    if (!options) {\n      console.warn('Menu has to contain MenuOptions component');\n    }\n    const trigger = children.find(isTrigger);\n    if (!trigger) {\n      console.warn('Menu has to contain MenuTrigger component');\n    }\n    return options && trigger;\n  }\n}\n\nconst MenuExternal = withCtx(Menu);\nObject.defineProperty(MenuExternal, 'debug', {\n  get: function () {\n    return CFG.debug;\n  },\n  set: function (val) {\n    CFG.debug = val;\n  },\n});\nexport default MenuExternal;\n","import React, { Component } from 'react';\nimport { StyleProp, StyleSheet, Text, View, ViewStyle } from 'react-native';\nimport { withCtx } from './MenuProvider';\nimport { makeTouchable } from './helpers';\nimport { debug } from './logger';\nimport { MenuContextProps, MenuOptionCustomStyle } from './types';\n\nexport type MenuOptionsProps = {\n  value?: any;\n  text?: string;\n  disabled?: boolean;\n  disableTouchable?: boolean;\n  customStyles?: MenuOptionCustomStyle;\n\n  style?: StyleProp<ViewStyle>;\n  testID?: string;\n\n  onSelect?: (value: unknown) => unknown;\n  children?: React.ReactNode;\n};\n\nexport class MenuOption extends Component<MenuOptionsProps & MenuContextProps> {\n  _onSelect() {\n    const { value } = this.props;\n    const onSelect = this.props.onSelect || this._getMenusOnSelect();\n    const shouldClose = onSelect?.(value) !== false;\n    debug('select option', value, shouldClose);\n    if (shouldClose) {\n      this.props.ctx.menuActions.closeMenu();\n    }\n  }\n\n  _getMenusOnSelect() {\n    const menu = this.props.ctx.menuActions._getOpenedMenu();\n    return menu?.instance.props.onSelect;\n  }\n\n  _getCustomStyles() {\n    // FIXME react 16.3 workaround for ControlledExample!\n    const menu = this.props.ctx.menuActions._getOpenedMenu();\n    const { optionsCustomStyles } = menu ?? { optionsCustomStyles: {} };\n    return {\n      ...optionsCustomStyles,\n      ...this.props.customStyles,\n    };\n  }\n\n  render() {\n    const { text, disabled, disableTouchable, children, style, testID } = this.props;\n    const customStyles = this._getCustomStyles();\n    if (text && React.Children.count(children) > 0) {\n      console.warn(\n        \"MenuOption: Please don't use text property together with explicit children. Children are ignored.\",\n      );\n    }\n    if (disabled) {\n      const disabledStyles = [defaultStyles.optionTextDisabled, customStyles.optionText];\n      return (\n        <View style={[defaultStyles.option, customStyles.optionWrapper, style]}>\n          {text ? <Text style={disabledStyles}>{text}</Text> : children}\n        </View>\n      );\n    }\n    const rendered = (\n      <View style={[defaultStyles.option, customStyles.optionWrapper, style]}>\n        {text ? <Text style={customStyles.optionText}>{text}</Text> : children}\n      </View>\n    );\n    if (disableTouchable) {\n      return rendered;\n    } else {\n      const { Touchable, defaultTouchableProps } = makeTouchable(\n        customStyles.OptionTouchableComponent,\n      );\n      return (\n        <Touchable\n          testID={testID}\n          onPress={() => this._onSelect()}\n          {...defaultTouchableProps}\n          {...customStyles.optionTouchable}\n        >\n          {rendered}\n        </Touchable>\n      );\n    }\n  }\n}\n\nconst defaultStyles = StyleSheet.create({\n  option: {\n    padding: 5,\n    backgroundColor: 'transparent',\n  },\n  optionTextDisabled: {\n    color: '#ccc',\n  },\n});\n\nexport default withCtx(MenuOption);\n","import React from 'react';\nimport { Animated, Easing, I18nManager, PixelRatio, StyleSheet } from 'react-native';\nimport { CLOSE_ANIM_DURATION, OPEN_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nconst axisPosition = (oDim, wDim, tPos, tDim) => {\n  // if options are bigger than window dimension, then render at 0\n  if (oDim > wDim) {\n    return 0;\n  }\n  // render at trigger position if possible\n  if (tPos + oDim <= wDim) {\n    return tPos;\n  }\n  // aligned to the trigger from the bottom (right)\n  if (tPos + tDim - oDim >= 0) {\n    return tPos + tDim - oDim;\n  }\n  // compute center position\n  let pos = Math.round(tPos + tDim / 2 - oDim / 2);\n  // check top boundary\n  if (pos < 0) {\n    return 0;\n  }\n  // check bottom boundary\n  if (pos + oDim > wDim) {\n    return wDim - oDim;\n  }\n  // if everything ok, render in center position\n  return pos;\n};\n\nfunction fit(pos, len, minPos, maxPos) {\n  if (pos === undefined) {\n    return undefined;\n  }\n  if (pos + len > maxPos) {\n    pos = maxPos - len;\n  }\n  if (pos < minPos) {\n    pos = minPos;\n  }\n  return pos;\n}\n// fits options (position) into safeArea\nexport const fitPositionIntoSafeArea = (position, layouts) => {\n  const { windowLayout, safeAreaLayout, optionsLayout } = layouts;\n  if (!safeAreaLayout) {\n    return position;\n  }\n  const { x: saX, y: saY, height: saHeight, width: saWidth } = safeAreaLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const { width: wWidth } = windowLayout;\n  let { top, left, right } = position;\n  top = fit(top, oHeight, saY, saY + saHeight);\n  left = fit(left, oWidth, saX, saX + saWidth);\n  right = fit(right, oWidth, wWidth - saX - saWidth, saX);\n  return { top, left, right };\n};\n\nexport const computePosition = (layouts, isRTL) => {\n  const { windowLayout, triggerLayout, optionsLayout } = layouts;\n  const { x: wX, y: wY, width: wWidth, height: wHeight } = windowLayout;\n  const { x: tX, y: tY, height: tHeight, width: tWidth } = triggerLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const top = axisPosition(oHeight, wHeight, tY - wY, tHeight);\n  const left = axisPosition(oWidth, wWidth, tX - wX, tWidth);\n  const start = isRTL ? 'right' : 'left';\n  const position = { top, [start]: left };\n  return fitPositionIntoSafeArea(position, layouts);\n};\n\nexport default class ContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scaleAnim: new Animated.Value(0.1),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.scaleAnim, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.scaleAnim, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const animation = {\n      transform: [{ scale: this.state.scaleAnim }],\n      opacity: this.state.scaleAnim,\n    };\n    const position = computePosition(layouts, I18nManager.isRTL);\n    return (\n      <Animated.View {...other} style={[styles.options, style, animation, position]}>\n        {children}\n      </Animated.View>\n    );\n  }\n}\n\n// public exports\nContextMenu.computePosition = computePosition;\nContextMenu.fitPositionIntoSafeArea = fitPositionIntoSafeArea;\n\nexport const styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n    borderRadius: 2,\n    backgroundColor: 'white',\n    width: PixelRatio.roundToNearestPixel(200),\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n});\n","import React from 'react';\nimport { I18nManager, View } from 'react-native';\n\nimport { computePosition, styles } from './ContextMenu';\n\n/**\nSimplified version of ContextMenu without animation.\n*/\nexport default class NotAnimatedContextMenu extends React.Component {\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const position = computePosition(layouts, I18nManager.isRTL);\n    return (\n      <View {...other} style={[styles.options, style, position]}>\n        {children}\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { Animated, Easing, StyleSheet } from 'react-native';\nimport { CLOSE_ANIM_DURATION, OPEN_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nexport const computePosition = layouts => {\n  const { windowLayout, optionsLayout } = layouts;\n  const { height: wHeight } = windowLayout;\n  const { height: oHeight } = optionsLayout;\n  const top = wHeight - oHeight;\n  const left = 0,\n    right = 0;\n  const position = { top, left, right };\n  // TODO what is the best way to handle safeArea?\n  // most likely some extra paddings inside SlideInMenu\n  return position;\n};\n\nexport default class SlideInMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      slide: new Animated.Value(0),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.slide, {\n      duration: OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.slide, {\n        duration: CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const { style, children, layouts, ...other } = this.props;\n    const { height: oHeight } = layouts.optionsLayout;\n    const animation = {\n      transform: [\n        {\n          translateY: this.state.slide.interpolate({\n            inputRange: [0, 1],\n            outputRange: [oHeight, 0],\n          }),\n        },\n      ],\n    };\n    const position = computePosition(layouts);\n    return (\n      <Animated.View style={[styles.options, style, animation, position]} {...other}>\n        {children}\n      </Animated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  options: {\n    position: 'absolute',\n    backgroundColor: 'white',\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n});\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          )\n\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Animated, Easing, I18nManager, StyleSheet, View } from 'react-native';\n\nimport { CLOSE_ANIM_DURATION, OPEN_ANIM_DURATION, USE_NATIVE_DRIVER } from '../constants';\n\nconst popoverPadding = 7;\nconst anchorSize = 15;\nconst anchorHyp = Math.sqrt(anchorSize * anchorSize + anchorSize * anchorSize);\nconst anchorOffset = (anchorHyp + anchorSize) / 2 - popoverPadding;\n\n// left/top placement\nfunction axisNegativeSideProperties({ oDim, tPos }) {\n  return { position: tPos - oDim };\n}\n\n// right/bottom placement\nfunction axisPositiveSideProperties({ tPos, tDim }) {\n  // substract also anchor placeholder from the beginning\n  return { position: tPos + tDim - anchorSize };\n}\n\n// computes offsets (off screen overlap) of popover when trying to align it to the center\nfunction centeringProperties({ oDim, wDim, tPos, tDim }) {\n  const center = Math.round(tPos + tDim / 2);\n  const leftOffset = oDim / 2 - center;\n  const rightOffset = center + oDim / 2 - wDim;\n  return { center, leftOffset, rightOffset };\n}\n\n/**\n * Computes position and offset of popover when trying to align it to the triger center.\n * It consideres window boundaries.\n * Returns object with keys:\n *   - position: <Number> Absolute position - top/left,\n *   - offset: <Number> window overlapping size if window boundaries were not considered\n */\nfunction axisCenteredPositionProperties(options) {\n  const { oDim, wDim } = options;\n  const { center, leftOffset, rightOffset } = centeringProperties(options);\n  if (leftOffset > 0 || rightOffset > 0) {\n    // right/bottom position is better\n    if (leftOffset < rightOffset) {\n      return { offset: rightOffset, position: wDim - oDim };\n    }\n    // left/top position is better\n    if (rightOffset < leftOffset) {\n      return { offset: -leftOffset, position: 0 };\n    }\n  }\n  // centered position\n  return { offset: 0, position: center - oDim / 2 };\n}\n\n/* Evaluate centering placement */\nfunction getCenteringPrice(options) {\n  const { leftOffset, rightOffset } = centeringProperties(options);\n  // TODO: currently shifted popovers have higher price,\n  // popover shift could be taken into account with the same price\n  return Math.max(0, leftOffset) + Math.max(0, rightOffset);\n}\n\n/* Evaluate top placement */\nfunction getTopPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(vOptions);\n  const sideOffset = Math.max(0, hOptions.oDim - hOptions.tPos);\n  return centerOffset + sideOffset;\n}\n\n/* Evaluate bottom placement */\nfunction getBottomPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(vOptions);\n  const sideOffset = Math.max(0, hOptions.tPos + hOptions.tDim + hOptions.oDim - hOptions.wDim);\n  return centerOffset + sideOffset;\n}\n\n/* Evaluate left placement */\nfunction getLeftPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(hOptions);\n  const sideOffset = Math.max(0, vOptions.oDim - vOptions.tPos);\n  return centerOffset + sideOffset;\n}\n\n/* Evaluate right placement */\nfunction getRightPrice(hOptions, vOptions) {\n  const centerOffset = getCenteringPrice(hOptions);\n  const sideOffset = Math.max(0, vOptions.tPos + vOptions.tDim + vOptions.oDim - vOptions.wDim);\n  return centerOffset + sideOffset;\n}\n\nfunction getStartPosKey(isRTL) {\n  return isRTL ? 'right' : 'left';\n}\n\nfunction topProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(vOptions);\n  const side = axisNegativeSideProperties(hOptions);\n  return {\n    position: {\n      top: side.position,\n      [getStartPosKey(isRTL)]: centered.position,\n    },\n    offset: centered.offset,\n    placement: 'top',\n  };\n}\n\nfunction bottomProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(vOptions);\n  const side = axisPositiveSideProperties(hOptions);\n  return {\n    position: {\n      top: side.position,\n      [getStartPosKey(isRTL)]: centered.position,\n    },\n    offset: centered.offset,\n    placement: 'bottom',\n  };\n}\n\nfunction rightProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(hOptions);\n  const side = axisPositiveSideProperties(vOptions);\n  return {\n    position: {\n      top: centered.position,\n      [getStartPosKey(isRTL)]: side.position,\n    },\n    offset: centered.offset,\n    placement: 'right',\n  };\n}\n\nfunction leftProperties(hOptions, vOptions, isRTL) {\n  const centered = axisCenteredPositionProperties(hOptions);\n  const side = axisNegativeSideProperties(vOptions);\n  return {\n    position: {\n      top: centered.position,\n      [getStartPosKey(isRTL)]: side.position,\n    },\n    offset: centered.offset,\n    placement: 'left',\n  };\n}\n\n// maps placement to function which computes correct properties\nconst propertiesByPlacement = {\n  top: topProperties,\n  bottom: bottomProperties,\n  left: leftProperties,\n  right: rightProperties,\n};\n\n/**\n * Computes properties needed for drawing popover.\n * Returns object with keys:\n *   - position: <Object> { top: Number, left: Number } - popover absolute position\n *   - placement: <Enum> top|left|top|bottom - position to the trigger\n *   - offset: <Number> value by which must be anchor shifted\n */\nexport function computeProperties(\n  { windowLayout, triggerLayout, optionsLayout },\n  placement,\n  preferredPlacement,\n  isRTL,\n) {\n  const { x: wX, y: wY, width: wWidth, height: wHeight } = windowLayout;\n  const { x: tX, y: tY, height: tHeight, width: tWidth } = triggerLayout;\n  const { height: oHeight, width: oWidth } = optionsLayout;\n  const hOptions = {\n    oDim: oHeight + popoverPadding * 2,\n    wDim: wHeight,\n    tPos: tY - wY,\n    tDim: tHeight,\n  };\n  const vOptions = {\n    oDim: oWidth + popoverPadding * 2,\n    wDim: wWidth,\n    tPos: tX - wX,\n    tDim: tWidth,\n  };\n  if (placement !== 'auto' && propertiesByPlacement[placement]) {\n    return propertiesByPlacement[placement](hOptions, vOptions, isRTL);\n  }\n\n  const prices = {\n    top: getTopPrice(hOptions, vOptions),\n    bottom: getBottomPrice(hOptions, vOptions),\n    right: getRightPrice(hOptions, vOptions),\n    left: getLeftPrice(hOptions, vOptions),\n  };\n  const bestPrice = Object.values(prices).sort((a, b) => a - b)[0];\n  const bestPlacement =\n    prices[preferredPlacement] === bestPrice\n      ? preferredPlacement\n      : Object.keys(prices).find(pl => prices[pl] === bestPrice);\n\n  return propertiesByPlacement[bestPlacement](hOptions, vOptions, isRTL);\n}\n\nexport default class Popover extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scaleAnim: new Animated.Value(0.1),\n    };\n  }\n\n  componentDidMount() {\n    Animated.timing(this.state.scaleAnim, {\n      duration:\n        this.props.openAnimationDuration !== undefined\n          ? this.props.openAnimationDuration\n          : OPEN_ANIM_DURATION,\n      toValue: 1,\n      easing: Easing.out(Easing.cubic),\n      useNativeDriver: USE_NATIVE_DRIVER,\n    }).start();\n  }\n\n  close() {\n    return new Promise(resolve => {\n      Animated.timing(this.state.scaleAnim, {\n        duration:\n          this.props.closeAnimationDuration !== undefined\n            ? this.props.closeAnimationDuration\n            : CLOSE_ANIM_DURATION,\n        toValue: 0,\n        easing: Easing.in(Easing.cubic),\n        useNativeDriver: USE_NATIVE_DRIVER,\n      }).start(resolve);\n    });\n  }\n\n  render() {\n    const {\n      style,\n      children,\n      layouts,\n      anchorStyle,\n      preferredPlacement,\n      openAnimationDuration,\n      closeAnimationDuration,\n      placement: userPlacement,\n      ...other\n    } = this.props;\n    const isRTL = I18nManager.isRTL;\n    const animation = {\n      transform: [{ scale: this.state.scaleAnim }],\n      opacity: this.state.scaleAnim,\n    };\n    const { position, placement, offset } = computeProperties(\n      layouts,\n      userPlacement,\n      preferredPlacement,\n      isRTL,\n    );\n    return (\n      <Animated.View\n        style={[styles.animated, animation, position, getContainerStyle({ placement, isRTL })]}\n      >\n        <View\n          style={[styles.anchor, dynamicAnchorStyle({ placement, offset, isRTL }), anchorStyle]}\n        />\n        <View {...other} style={[styles.options, style]}>\n          {children}\n        </View>\n      </Animated.View>\n    );\n  }\n}\n\nPopover.propTypes = {\n  anchorStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  placement: PropTypes.oneOf(['auto', 'top', 'right', 'bottom', 'left']),\n  preferredPlacement: PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\n  openAnimationDuration: PropTypes.number,\n  closeAnimationDuration: PropTypes.number,\n};\n\nPopover.defaultProps = {\n  preferredPlacement: 'top',\n  placement: 'auto',\n};\n\nconst getContainerStyle = ({ placement, isRTL }) =>\n  ({\n    left: {\n      flexDirection: isRTL ? 'row' : 'row-reverse',\n    },\n    right: {\n      flexDirection: isRTL ? 'row-reverse' : 'row',\n    },\n    top: {\n      flexDirection: 'column-reverse',\n    },\n    bottom: {\n      flexDirection: 'column',\n    },\n  })[placement];\n\nconst dynamicAnchorStyle = ({ offset, placement, isRTL }) => {\n  const start = getStartPosKey(isRTL);\n  switch (placement) {\n    case 'right':\n      return {\n        top: offset,\n        transform: [{ translateX: anchorOffset }, { rotate: '45deg' }],\n      };\n    case 'left':\n      return {\n        top: offset,\n        transform: [{ translateX: -anchorOffset }, { rotate: '45deg' }],\n      };\n    case 'top':\n      return {\n        [start]: offset,\n        transform: [{ translateY: -anchorOffset }, { rotate: '45deg' }],\n      };\n    case 'bottom':\n      return {\n        [start]: offset,\n        transform: [{ translateY: anchorOffset }, { rotate: '45deg' }],\n      };\n  }\n};\n\nexport const styles = StyleSheet.create({\n  animated: {\n    padding: popoverPadding,\n    backgroundColor: 'transparent',\n    position: 'absolute',\n    alignItems: 'center',\n    pointerEvents: 'box-none',\n  },\n  options: {\n    borderRadius: 2,\n    minWidth: anchorHyp,\n    minHeight: anchorHyp,\n    backgroundColor: 'white',\n\n    // Shadow only works on iOS.\n    shadowColor: 'black',\n    shadowOpacity: 0.3,\n    shadowOffset: { width: 3, height: 3 },\n    shadowRadius: 4,\n\n    // This will elevate the view on Android, causing shadow to be drawn.\n    elevation: 5,\n  },\n  anchor: {\n    width: anchorSize,\n    height: anchorSize,\n    backgroundColor: 'white',\n    elevation: 5,\n  },\n});\n","import Menu from './Menu';\nimport MenuOption from './MenuOption';\nimport MenuOptions from './MenuOptions';\nimport MenuProvider from './MenuProvider';\nimport MenuTrigger from './MenuTrigger';\n\n// @ts-ignore\nimport ContextMenu from './renderers/ContextMenu';\n// @ts-ignore\nimport NotAnimatedContextMenu from './renderers/NotAnimatedContextMenu';\n// @ts-ignore\nimport SlideInMenu from './renderers/SlideInMenu';\n// @ts-ignore\nimport Popover from './renderers/Popover';\n\nconst renderers = { ContextMenu, SlideInMenu, NotAnimatedContextMenu, Popover };\n\nexport { Menu, MenuOption, MenuOptions, MenuProvider, MenuTrigger, Menu as default, renderers };\n"],"names":["measure","ref","Promise","resolve","x","y","width","height","pageX","pageY","makeName","nextID","makeTouchable","TouchableComponent","Touchable","Platform","select","android","TouchableHighlight","ios","defaultTouchableProps","underlayColor","iterator2array","it","arr","next","done","push","value","CFG","debug","args","console","log","OPEN_ANIM_DURATION","CLOSE_ANIM_DURATION","USE_NATIVE_DRIVER","OS","Backdrop","props","fadeAnim","Animated","Value","timing","duration","toValue","useNativeDriver","start","onPress","style","TouchableWithoutFeedback","styles","fullscreen","opacity","View","Component","StyleSheet","create","position","top","left","bottom","right","MenuPlaceholder","state","ctx","_isMenuClosing","backdropStyles","shouldRenderMenu","isMenuOpen","_isInitialized","placeholder","_onBackdropPress","onBackdropRef","_makeOptions","overflow","makeMenuRegistry","menus","Map","subscribe","instance","name","getName","get","warn","set","unsubscribe","updateLayoutInfo","layouts","has","menu","Object","assign","hasOwnProperty","triggerLayout","optionsLayout","setOptionsCustomStyles","optionsCustomStyles","getMenu","getAll","values","computePosition","windowLayout","MenuOutside","children","other","__rest","options","withContext","Context","propName","wrap","EnhanceContext","_a","forwardedRef","rest","custom","React","displayName","consumerName","Consumer","enhanceForwardRef","FC","forwardRef","defaultProps","propTypes","defaultOptionsContainerRenderer","layoutsEqual","a","b","Error","PopupMenuContext","createContext","withCtx","instanceCount","MenuProvider","_handleBackButton","backHandler","closeMenu","r","backdropRef","onOptionsRef","optionsRef","_onPlaceholderRef","_placeholderRef","_getOpenedMenu","_b","onBackdropPress","call","_onLayout","layout","nativeEvent","_ownLayout","trigger","_getTrigger","then","res","menuRegistry","_notify","_onSafeAreaLayout","_safeAreaLayout","menuActions","openMenu","toggleMenu","force","_isBackHandlerRegistered","menuCtx","customStyles","skipInstanceCheck","BackHandler","removeEventListener","addEventListener","_setOpened","filter","_getOpened","forEach","isOpen","undefined","hideMenu","close","hideBackdrop","_invalidateTriggerLayouts","all","err","forceUpdate","prev","openedMenu","find","_isRenderNeeded","afterSetState","beforeSetState","_beforeClose","onClose","onOpen","_initOpen","setState","openedMenuName","MenuWrapperComponent","MenuWrapper","Fragment","flex1","menuProviderWrapper","SafeAreaView","safeArea","backdrop","open","e","isOutside","_getOptions","renderer","rendererProps","safeAreaLayout","optionsContainerStyle","renderOptionsContainer","optionsRenderer","onLayout","_onOptionsLayout","optionsContainer","optionsType","createElement","flex","pointerEvents","MenuOptions","menuName","updateCustomStyles","optionsWrapper","MenuTrigger","disabled","onRef","text","triggerOnLongPress","onAlternativeAction","testID","_onPress","TriggerTouchableComponent","triggerOuterWrapper","triggerTouchable","triggerWrapper","Text","triggerText","isRegularComponent","c","isValidElement","type","isTrigger","isMenuOptions","Menu","_forceClose","_name","_opened","_trigger","_validateChildren","prevProps","opened","_reduceChildren","Children","toArray","reduce","child","cloneElement","key","t","MenuExternal","defineProperty","val","MenuOption","onSelect","_getMenusOnSelect","shouldClose","disableTouchable","_getCustomStyles","count","disabledStyles","defaultStyles","optionTextDisabled","optionText","option","optionWrapper","rendered","OptionTouchableComponent","_onSelect","optionTouchable","padding","backgroundColor","color","axisPosition","oDim","wDim","tPos","tDim","pos","Math","round","fit","len","minPos","maxPos","fitPositionIntoSafeArea","saX","saY","saHeight","saWidth","oHeight","oWidth","wWidth","isRTL","wX","wY","wHeight","tX","tY","tHeight","tWidth","ContextMenu","scaleAnim","easing","Easing","out","cubic","_excluded","animation","transform","scale","I18nManager","borderRadius","PixelRatio","roundToNearestPixel","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","NotAnimatedContextMenu","SlideInMenu","slide","translateY","interpolate","inputRange","outputRange","require$$0","require$$1","require$$2","propTypesModule","popoverPadding","anchorSize","anchorHyp","sqrt","anchorOffset","axisNegativeSideProperties","axisPositiveSideProperties","centeringProperties","center","leftOffset","rightOffset","axisCenteredPositionProperties","offset","getCenteringPrice","max","getTopPrice","hOptions","vOptions","centerOffset","sideOffset","getBottomPrice","getLeftPrice","getRightPrice","getStartPosKey","topProperties","centered","side","placement","bottomProperties","rightProperties","leftProperties","propertiesByPlacement","computeProperties","preferredPlacement","prices","bestPrice","sort","bestPlacement","keys","pl","Popover","openAnimationDuration","closeAnimationDuration","anchorStyle","userPlacement","animated","getContainerStyle","anchor","dynamicAnchorStyle","PropTypes","oneOfType","object","number","array","oneOf","flexDirection","translateX","rotate","alignItems","minWidth","minHeight","renderers"],"mappings":"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","x_google_ignoreList":[6,17,18,19,20,21,22]}